ТЗ по боту в ТГ

Порядок работы бота:
Нужно чтобы в боте было 3 категории пользователей:
- Руководство
Это лицо, которое после инициализации, получает доступ к таким же кнопкам, как и супервайзер, только без «Все для работы», но может смотреть статистику по всем точкам и по всем людям, у супервайзера должны появляться данные только по закрепленным за ним точкам и людям.

- Супервайзер
 Это лицо, которое является непосредственным руководителем некоторого количества магазинов, после инициализации, у него должно появится меня, где несколько кнопок: «Показатели торговых точек»; «Показатели продавцов»; «Все для работы»
«Показатели торговых точек» - после нажатия, бот должен уточнить у пользователя, какая точка его интересует, пользователь выбирает точку и проваливается в статистику точки, которая показывает: Сумму выручки на данный момент/План поставленный для точки по выручке (150.000 р. из 500.000 р.); Сумма выручки, которую осталось добить до выполнения плана (До выполнения плана, требуется 350.000 р. и указываем сколько это процентов). Кроме данных показателей, пользователь должен иметь возможность, посмотреть отчет, заполненный продавцом на интересующей его точке в тот или иной день, для подготовки своих отчетов вне бота.
«Показатели продавцов» - тут все также как и в показателях точек, только пользователь смотрит статистику продавцов с возможностью просмотра индивидуальных показателей.
«Все для работы» - аналогично как у продавца-консультанта, только со своими отдельными регламентами и скриптами (как дополнение)

- Продавец-Консультант:
При входе в бот, он должен инициализироваться, после чего открывается меню, где несколько кнопок: «Начать смену»; «Мои показатели»; «Все для работы».
«Начать смену» - при нажатии пользователь переходит в запрос от бота, где нужно выбрать точку продаж из предложенного списка, после выбора точки продаж, пользователь получает сообщение что смена начата и у него остается только три кнопки: «Заполнить отчет»; «Закончить смену»; «Экстренное закрытие».
При выборе кнопки «Заполнить отчет» пользователю бот предлагает заполнить данные обязательной отчетности по закрытию, который состоит из внесения следующих показателей: Сумма выручки; Сколько наличных; Сколько безнала; Сколько QR-кодом; Сколько переводом; Сколько возвратами. После того как пользователь ввел показатели, он должен приложить 4 фото: Фото подписи на конверте с выручкой; Фото сводных чеков; Фото конверта, в котором все лежит, Фото запечатанного конверта. После того как все приложено, пользователь должен нажать на «Закончить смену» после чего у него появится сообщение, по типу «Спасибо за работу, хорошего отдыха» и он перейдет в основное меню. Можно сделать и по-другому, чтобы было только две таблички «Закончить смену» «Экстренное закрытие». Чтобы процесс отчетности начинал идти после того, как пользователь нажал данную кнопку. «Экстренное закрытие», данная кнопка предназначена для следующих ситуаций: Продавец вышел на пол смены или экстренно, кого-то подменить; Продавцу стало плохо, и он отпросился и т.д. После того как как пользователь нажал кнопку, бот должен запросить ввести актуальный показатель выручки на момент ухода, после чего, также появляется надпись благодарственная и пользователь переносится в основное меню.
«Мои показатели» - при нажатии данной кнопки, у пользователя должен появится следующий текст: Дата, сколько смен отработано, количество наработанной выручки, индивидуальный план по выручке, сколько осталось наработать по выручке. Данную информацию бот как раз должен подтягивать из отчетов по выручке, а именно бот должен понимать и фиксировать все отчеты инициализированного пользователя и после того, как он зафиксирует финансовый отчет, сумму выручки он должен добавлять в его личные показатели.
«Все для работы» - после нажатия данной кнопки, пользователю показывает несколько подпапок: «Регламенты» «Информационные материалы» «Скрипты». После нажатия по одной любой из клавиш, ему выгружаются тот или иной материал или его бот переносит туда, где они размещены.

































Дополнительные вопросы:
1) Кто добавляет точки и прикрепляет к ним супервайзера?
1.1) Может ли быть несколько супервайзеров прикреплены к одной и той же точке?
2) Кто добавляет продавцов? Может ли другой супервайзер смотреть информация об этом продавце?
3) Кто вводит "План поставленный для точки по выручке" для всех точек одинаковый?
4) На каждой точке будет за 1 смену только 1 продавец?
5) "«Показатели продавцов» - тут все также как и в показателях точек, только пользователь смотрит статистику продавцов с возможностью просмотра индивидуальных показателей."
Что именно там будет? Напишите подробнее
6) Может ли 1 продавец работать на разных точках?
7) "«Все для работы» - аналогично как у продавца-консультанта, только со своими отдельными регламентами и скриптами (как дополнение)"
Кто это заполняет? В каком формате?
8) Продавец-консультант
Куда-то отправлять фотографии чеков?
9) После отправки фотографий чеков продавец больше не может редактировать отчет?

"при нажатии данной кнопки, у пользователя должен появится следующий текст: Дата, сколько смен отработано, количество наработанной выручки, индивидуальный план по выручке, сколько осталось наработать по выручке. Данную информацию бот как раз должен подтягивать из отчетов по выручке, а именно бот должен понимать и фиксировать все отчеты инициализированного пользователя и после того, как он зафиксирует финансовый отчет, сумму выручки он должен добавлять в его личные показатели."
Вот тут более детально:
1) За какой промежуток показываем?
2) Кто-то вообще подтверждает выручку или пользователь может ввести любое число и его потом не отредактировать?
3) Откуда берется индивидуальный план, кто его создает? Как он будет выглядеть?
4) "бот должен понимать и фиксировать все отчеты инициализированного пользователя и после того, как он зафиксирует финансовый отчет, сумму выручки он должен добавлять в его личные показатели." -- Тут совсем нету никакой конкретики, напишите более детально













Ответы:
1) Эту работу должен проводить тот, кто имеет доступ к админ панели, лучше наверное и зациклить на одном админе;
1.1) Нет, у каждого супервайзера будет свой зафиксированный пул точек, который им будет прилеплять админ, продавцов также будет регистрировать человек с доступом к админ панели;
2) Супервайзеры должны видеть только показатели закрепленных точек и людей, которые также закреплены за ними;
3) Планы будут выставляться для точек и продавцов индивидуально также человеком, который может осуществлять вышеуказанные действия;
4) Да, одна смена = 1 продавец, но бывают ситуации, когда один продавец начинает смену и по разным причинам может покинуть место работы, и в смену включается второй продавец, для этого я прописывал про кнопку экстренного закрытия смены;
5) описал более подробно ниже
6) Да, поскольку предусмотрены дежурства на других точках, для этого нужно чтобы после нажатия «Начать смену» продавец выбирал точку, на которую он выходит работать;
7) Наверное данный пункт должен также разрешать человек который будет иметь полный доступ, регламенты и так далее будут подгружаться в формате word/docx, чтобы человек грубо говоря, нажал на «все для работы» далее вывалились на выбор «Регламенты»/«Обучения» и после выбора, ему бот выгрузил файлы прям кучей, их не больше 20-25;
8) Получается он заполнил статистическую информацию и, наверное, нужно так, чтобы бот ему написал что нибудь из разряда «прикрепите фото отчет» после чего продавец загружает заранее сделанные фото чеков, конвертов и т.д.;
9) Я думаю нужно сделать какое нибудь окончательное подтверждение, или чтобы бот как то спросил человека, мол перепроверьте правильность после чего закрывайте смену и сделать две кнопки, закрыть смену / редактировать отчет

Вот тут нужно более детально
1) С первого дня текущего месяца, бот должен живые показатели скапливать и показывать с 01 по 31 грубо говоря, но вот только сейчас понял, нужно чтобы эти показатели еще имели свойство хранения, чтобы грубо говоря, человек отработал 31-е число, закрыл смену и т.д., данные ушли в бота и бот зафиксировал итоговые показатели за месяц, чтобы потом, например 5-го числа следующего месяца, когда человек нажимал «Мои показатели» ему вываливались текущие показатели в текущем месяце, а также, он мог нажать кнопку по типу «Архив» «История показателей», выбрать интересующий его месяц и посмотреть, какие показатели у него были в прошлом или определенном месяце. Данные показатели должны хранится 13 месяцев, после чего автоматически удалятся.
2) Пользователь может ввести любое число и направить отчет, НО нужно чтобы у админа была функция редактирования отчетов, чтобы грубо говоря, продавец сделал отчет, направил, а потом выяснилось что он цифрой или суммой ошибся, и нужно чтобы потом админ смог открыть данный отчет и исправить его, но чтобы это не могли делать естественно продавцы и супервайзеры\
3) По сути это просто установленный в ручном режиме админом показатель, грубо говоря, после того как руководство определилось с планами на точки, информацию передают админу, а он смотрит кто за какой точкой закреплен, и выставляет показатели продавцам, наверное как то через админ панель или еще как нибудь, чтобы потом, у продавца когда он нажимал мои показатели, эта сумма фигурировала как поставленный план на месяц. Данный план будет выставляться до 5-го числа каждого месяца, то есть продавцы после окончания текущего месяца, в новом до 5-го числа должны будут видеть что нибудь из разряда – 50000(это сумма выручки с 1-го по 5-е)/план скоро появится и после того как руководство распланирует планы на каждого и передаст информацию админу, он уже начинает каждому прописывать их.

4) Ну грубо говоря, как я это вижу, после того как человек закончил смену, данные из фин.отчета которые он заполнял, а именно показатель выручки, фиксируется за данным пигтродавцом из чего у него потом в показателях и будет набираться сумма.
Пример:
После ввода продавцом 50 000 р. выручки за смену, данный показатель в размере 50 000 р. добавляется в сумму его показателя за месяц, было у него, например в середине месяца наработано 150 000 р. (сумма ранее наработанных выручек за смены) / 500 000 р. (это цифра поставленного индивидуального плана) и после того как он закрыл смену, в его показателях 50 000 р. добавляются ему в 150 000 р. и он уже при нажатии «мои показатели» видит что он наработал 200 000 р./500 000 р.

Я далеко не эксперт в логическом построении, а тем более написании отдельных программ, ботов и т.д., всю механику, которую расписываю, это просто то, как по моему представлению должно работать. Если видите, что получается какая-то дич, скажите об этом и как по вашему мнению можно это оптимизировать, я вам предварительно как спецу доверяю)
