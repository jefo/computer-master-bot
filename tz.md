# Техническое задание для Telegram-бота

## Общая концепция

Бот предназначен для управления торговыми точками, отслеживания показателей продаж и работы персонала. Система включает три уровня пользователей с различными правами доступа.

## Типы пользователей

### 1. Руководство
- Полный доступ к статистике по всем точкам и сотрудникам
- Те же функции, что и у супервайзера, кроме раздела "Все для работы"
- Может просматривать данные по всем торговым точкам

### 2. Супервайзер
- Руководитель группы магазинов
- Доступ только к закрепленным за ним точкам и сотрудникам
- Основное меню содержит три раздела:
  - Показатели торговых точек
  - Показатели продавцов  
  - Все для работы

### 3. Продавец-консультант
- Работник торговой точки
- Основное меню содержит три раздела:
  - Начать смену
  - Мои показатели
  - Все для работы

## Функциональные требования

### Для продавца-консультанта

#### 1. Начало смены
- Пользователь выбирает точку продаж из списка
- После подтверждения появляются кнопки:
  - Заполнить отчет
  - Закончить смену
  - Экстренное закрытие

#### 2. Заполнение отчета
**Обязательные данные:**
- Сумма выручки
- Наличные средства
- Безналичный расчет
- Оплата QR-кодом
- Переводы
- Возвраты

**Требуемые фотографии (4 шт.):**
- Фото подписи на конверте с выручкой
- Фото сводных чеков
- Фото конверта с содержимым
- Фото запечатанного конверта

#### 3. Завершение смены
- После заполнения отчета и прикрепления фото - подтверждение закрытия
- Сообщение "Спасибо за работу, хорошего отдыха"
- Возврат в основное меню

#### 4. Экстренное закрытие
- Для ситуаций: досрочный уход, болезнь, подмена
- Ввод актуальной выручки на момент ухода
- Автоматическое завершение смены

#### 5. Мои показатели
**Отображаемая информация:**
- Текущая дата
- Количество отработанных смен
- Сумма наработанной выручки
- Индивидуальный план по выручке
- Остаток до выполнения плана

**Особенности:**
- Данные накапливаются с 1-го числа текущего месяца
- Хранение истории за 13 месяцев
- Возможность просмотра архивных данных по месяцам

### Для супервайзера

#### 1. Показатели торговых точек
- Выбор конкретной точки из списка
- Статистика по точке:
  - Текущая выручка / Плановая выручка (пример: 150.000 р. из 500.000 р.)
  - Остаток до выполнения плана (сумма и проценты)
- Просмотр отчетов продавцов по дням

#### 2. Показатели продавцов
- Аналогично показателям точек, но для отдельных сотрудников
- Просмотр индивидуальной статистики

#### 3. Все для работы
- Отдельные регламенты и скрипты для супервайзеров
- Структура: Регламенты / Информационные материалы / Скрипты

### Для руководства
- Полный доступ ко всем данным
- Функции аналогичные супервайзеру (кроме "Все для работы")

## Административные функции

### Управление данными
- **Админ** добавляет торговые точки и прикрепляет супервайзеров
- **Админ** регистрирует продавцов
- **Админ** устанавливает планы по выручке для точек и продавцов
- Одна точка = один супервайзер
- Продавец может работать на разных точках

### Особенности планов
- Планы устанавливаются индивидуально для каждой точки и продавца
- Установка планов до 5-го числа каждого месяца
- До установки плана отображается: "план скоро появится"

### Редактирование отчетов
- Продавцы и супервайзеры не могут редактировать отправленные отчеты
- Админ имеет возможность корректировать данные в отчетах
- Исправления возможны при обнаружении ошибок в цифрах

## Технические требования

### Форматы файлов
- Регламенты и материалы: Word/docx формат
- Максимальное количество файлов: 20-25 шт. на раздел

### Логика работы данных
- Выручка из отчетов автоматически суммируется в личных показателях продавца
- Пример: было 150.000 р. + новая смена 50.000 р. = 200.000 р./500.000 р. (план)
- Данные хранятся 13 месяцев с автоматическим удалением старых записей

### Процесс подтверждения отчетов
- Двухэтапное подтверждение: заполнение → проверка → закрытие
- Возможность редактирования перед окончательным подтверждением

## Архитектура данных

### Хранение информации
- Помесячное хранение показателей
- Доступ к архиву за предыдущие месяцы
- Автоматическая ротация данных (13 месяцев)

### Безопасность
- Разграничение прав доступа по уровням пользователей
- Защита от несанкционированного редактирования отчетов

---

*Примечание: Данное ТЗ описывает желаемую функциональность. Конкретная техническая реализация может быть оптимизирована в процессе разработки.*